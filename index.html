<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine ‚ù§Ô∏è</title>
<style>
* { box-sizing: border-box; user-select: none; }
body {
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:"Segoe UI",sans-serif;
  background: linear-gradient(135deg, #ff758c, #ff7eb3);
  padding:20px;
}
.card {
  background:white;
  position: relative;
  padding:60px;
  border-radius:26px;
  width:92%;
  max-width:900px;
  min-height:700px;
  text-align:center;
  box-shadow:0 25px 50px rgba(0,0,0,0.25);
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  overflow: hidden;
}
h1 {color:#e63946;margin-bottom:24px;font-size:3rem;}
p {color:#444;font-size:20px;line-height:1.7;margin:12px 0;}
.photos {display:flex;justify-content:center;gap:24px;margin:30px 0;}
.photo {
  width:140px;
  height:140px;
  border-radius:50%;
  background:#ffe5ec;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
}
.photo img {
  width:100%;
  height:100%;
  object-fit:cover;
}
.buttons {margin-top:50px;position:relative;height:200px;width:100%;display:flex;justify-content:center;align-items:center;}
button {padding:18px 48px;font-size:20px;border:none;border-radius:50px;cursor:pointer;transition:transform 0.2s;font-weight:bold;}
button:active {transform:scale(0.92);}
#yesBtn {background:#2ec4b6;color:white;position:relative;z-index:1;box-shadow:0 5px 15px rgba(46, 196, 182, 0.3);}
#noBtn {background:#ff595e;color:white;position:absolute;z-index:2;box-shadow:0 5px 15px rgba(255, 89, 94, 0.3);}
.hint {font-size:14px;margin-top:15px;color:#888;font-style:italic;}
.heart-beat {animation: heartbeat 1.2s infinite;display:inline-block;}
@keyframes heartbeat {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}
canvas {position:fixed;top:0;left:0;pointer-events:none;}
</style>
</head>
<body>

<canvas id="confetti"></canvas>

<div class="card" id="card">
<h1>Hey Rashmi <span class="heart-beat">‚ù§Ô∏è</span></h1>
<div class="photos">
  <div class="photo">
    <img src="images/rashmi.jpg" alt="Rashmi">
  </div>
  <div class="photo">‚ù§Ô∏è</div>
  <div class="photo">
    <img src="images/karthik.jpg" alt="Karthik">
  </div>
</div>
<p>
This Valentine's Day, <br>
I wanted to create a memory, just like every moment with you.<br>
by <b>Karthik</b>.<br>
<strong>"In your eyes, I found my home. In your heart, I found my love."</strong><br>
‚Ä¢ You're the missing piece of my life ‚ù§Ô∏è <br>
Will you be my <b>Valentine</b>? üåπ
</p>
<div class="buttons">
  <button id="yesBtn">Yes, Forever! üíñ</button>
  <button id="noBtn">No üôà</button>
</div>
<div class="hint">(Try pressing "No" - I dare you! üòè)</div>
</div>

<audio id="bgMusic" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
</audio>

<script>
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const card = document.getElementById("card");
const music = document.getElementById("bgMusic");
const noMessages = [
  "Nice try! üòú",
  "Oops! üòú",
  "Try again! üòè",
  "Say yes! ‚ù§Ô∏è",
  "Not yet! üòÑ",
  "Still thinking? üòè",
  "you, stuck with me! üòò",
  "I'm not giving up! üòÑ",
  "Gotcha! üòò"
];
function moveNo() {
  const padding = 20;
  const btnWidth = noBtn.offsetWidth;
  const btnHeight = noBtn.offsetHeight;
  const buttonsContainer = noBtn.parentElement;
  const containerWidth = buttonsContainer.clientWidth;
  const containerHeight = buttonsContainer.clientHeight;
  const yesBtnRect = yesBtn.getBoundingClientRect();
  const containerRect = buttonsContainer.getBoundingClientRect();
  const yesBtnX = yesBtnRect.left - containerRect.left;
  const yesBtnY = yesBtnRect.top - containerRect.top;
  const yesBtnWidth = yesBtn.offsetWidth;
  const yesBtnHeight = yesBtn.offsetHeight;

  const safePositions = [
    {x: padding, y: padding, area: "top"},
    {x: containerWidth - btnWidth - padding, y: padding, area: "top"},
    {x: containerWidth*0.25 - btnWidth/2, y: padding, area:"top"},
    {x: containerWidth*0.75 - btnWidth/2, y: padding, area:"top"},
    {x: yesBtnX - btnWidth - padding, y: padding, area:"top"},
    {x: yesBtnX + yesBtnWidth + padding, y: padding, area:"top"},
    {x: padding, y: (containerHeight-btnHeight)/2, area:"middle"},
    {x: containerWidth-btnWidth-padding, y:(containerHeight-btnHeight)/2, area:"middle"},
    {x: padding, y:containerHeight-btnHeight-padding, area:"bottom"},
    {x: containerWidth-btnWidth-padding, y:containerHeight-btnHeight-padding, area:"bottom"},
    {x: containerWidth*0.25-btnWidth/2, y:containerHeight-btnHeight-padding, area:"bottom"},
    {x: containerWidth*0.75-btnWidth/2, y:containerHeight-btnHeight-padding, area:"bottom"}
  ];

  const nonOverlappingPositions = safePositions.filter(pos=>{
    const noLeft=pos.x,noRight=pos.x+btnWidth,noTop=pos.y,noBottom=pos.y+btnHeight;
    const yesLeft=yesBtnX,yesRight=yesBtnX+yesBtnWidth,yesTop=yesBtnY,yesBottom=yesBtnY+yesBtnHeight;
    return !(noLeft<yesRight && noRight>yesLeft && noTop<yesBottom && noBottom>yesTop);
  });

  const topPositions = nonOverlappingPositions.filter(p=>p.area==="top");
  const middlePositions = nonOverlappingPositions.filter(p=>p.area==="middle");
  const bottomPositions = nonOverlappingPositions.filter(p=>p.area==="bottom");

  let selectedPositions;
  const random=Math.random();
  if(topPositions.length>0 && random<0.5) selectedPositions=topPositions;
  else if(middlePositions.length>0 && random<0.75) selectedPositions=middlePositions;
  else if(bottomPositions.length>0) selectedPositions=bottomPositions;
  else selectedPositions=nonOverlappingPositions;

  if(selectedPositions && selectedPositions.length>0){
    const randomPos = selectedPositions[Math.floor(Math.random()*selectedPositions.length)];
    noBtn.style.left=`${randomPos.x}px`;
    noBtn.style.top=`${randomPos.y}px`;
  } else {
    const corners = [
      {x:padding,y:padding},
      {x:containerWidth-btnWidth-padding,y:padding},
      {x:padding,y:containerHeight-btnHeight-padding},
      {x:containerWidth-btnWidth-padding,y:containerHeight-btnHeight-padding}
    ];
    const corner=corners[Math.floor(Math.random()*corners.length)];
    noBtn.style.left=`${corner.x}px`;
    noBtn.style.top=`${corner.y}px`;
  }

  noBtn.textContent=noMessages[Math.floor(Math.random()*noMessages.length)];
}

noBtn.addEventListener("mouseenter", moveNo);
noBtn.addEventListener("touchstart", moveNo);

yesBtn.addEventListener("click", ()=>{
  music.play();
  startConfetti();
  card.innerHTML = `<h1>She Said YES! üíñ</h1>
  <div class="photos">
    <div class="photo"><img src="images/Aru.jpg" alt="Rashmi"></div>
    <div class="photo">üíë</div>
    <div class="photo"><img src="images/Shreya.jpg" alt="Karthik"></div>
  </div>
  <p><strong>"The best things in life are better with you."</strong><br><br>
  Thank you for making me the happiest person alive! üòç<br><br>
  Every moment with you is a treasure, and I can't wait for all our tomorrows together.<br><br>
  Happy Valentine's Day, my love ‚ù§Ô∏è<br>
  Forever yours,<br><b>Karthik</b></p>
  <div style="margin-top:20px;font-size:16px;color:#666;">
    P.S. This memory is now saved forever in our hearts üíù
  </div>`;
});

const canvas = document.getElementById("confetti");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
let confetti=[];

function startConfetti(){
  for(let i=0;i<220;i++){
    confetti.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*6+4,d:Math.random()*5+1});
  }
  requestAnimationFrame(drawConfetti);
}

function drawConfetti(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  confetti.forEach(p=>{
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fillStyle=`hsl(${Math.random()*360},100%,65%)`;
    ctx.fill();
    p.y+=p.d;
    if(p.y>canvas.height)p.y=0;
  });
  requestAnimationFrame(drawConfetti);
}

window.addEventListener("resize",()=>{
  canvas.width=window.innerWidth;
  canvas.height=window.innerHeight;
});

setTimeout(moveNo,100);
</script>

</body>
</html>